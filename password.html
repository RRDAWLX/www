<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>password</title>
  </head>
  <body>
    <p>
      <label>old password: </label><input type="password" id="old" />
    </p>
    <p>
      <label>new password: </label><input type="password" id="new" />
    </p>
    <button type="button" id="update">update</button>

    <script src="/static/static/jquery.min.js"></script>
    <script>
      $('#update').on('click', () => {
        $.ajax({
          url: '/api/user/password',
          type: 'put',
          data: {
            oldPassword: $('#old').val(),
            newPassword: $('#new').val()
          },
          dataType: 'json'
        }).then(res => {
          if (res.status === 1 && res.data && res.data.success === 1) {
            alert('success');
          } else {
            alert('failed');
          }
        }, () => {
          alert('failed');
        });
      });
    </script>
  </body>
</html>